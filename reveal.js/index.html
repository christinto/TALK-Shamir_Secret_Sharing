<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Shamir Secret Sharing</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/beige.css">
		<link rel="shortcut icon" href="images/yin_yang_ico.png">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<!--
				***************************************
				Shamir Secret Sharing slides begin here
				***************************************
			-->
			<div class="slides">

				<!--
					***********
					Title Slide
					***********
				-->
				<section data-background="figures/gnuplot/background-title.png" data-background-size="contain" data-transition="fade-in fade-out">
					<h1>Shamir</h1>
					<h1>Secret</h1>
					<h1>Sharing</h1>
				</section>

				<!--
					*******************
					Begin with API demo
					*******************
				-->
				<section data-transition="zoom-in fade-out">
					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-out">
						<h1>DEMO</h1>
						<p align="left">This is our secret:</p>
						<pre>The secret number is 42</pre>
					</section>
				</section>

				<!--
					**********************************
					Gentle introduction to polynomials
					**********************************
				-->
				<section data-transition="zoom-in fade-out">
					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-out">
						<h1>Polynomials</h1>
            <h3>A gentle introduction</h3>
					</section>

					<section data-background="figures/gnuplot/background-line.png" data-background-size="contain" data-transition="fade-in fade-out">
						<h3>Linear Polynomial</h3>
						<p>A straight line is a polynomial of degree 1</p>
						\begin{align}
								f(x) = 2x
						\end{align}
					</section>

					<section data-background="figures/gnuplot/background-parabola.png" data-background-size="contain" data-transition="fade-in fade-out">
						<h3>Quadratic Polynomial</h3>
						<p>A parabola is a polynomial of degree 2</p>
						\begin{align}
								f(x) = x^2
						\end{align}
					</section>

					<section data-background="figures/gnuplot/background-cubic.png" data-background-size="contain" data-transition="fade-in fade-out">
						<h3>Cubic Polynomial</h3>
						<p>A cubic curve is a polynomial of degree 3</p>
						\begin{align}
								f(x) = x^3
						\end{align}
					</section>

					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-in fade-out">
						<h3>Generally</h3>
						\begin{align}
								f(x) = a_0 + a_1x + a_2x^2 + \ldots + a_nx^n
						\end{align}
					</section>

					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-in fade-out">
						<h3>Succinctly</h3>
						\begin{align}
								f(x) = \sum_{i=0}^n a_ix^i
						\end{align}
					</section>
				</section>

				<!--
					********************************
					Shamir Secret Sharing Definition
					********************************
				-->
				<section data-transition="zoom-in fade-out">
					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-out">
            <h1>Shamir Secret Sharing</h1>
						<h3>Mathematical Definition</h3>
          </section>

					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-in fade-out">
            <h3>Shamir Secret Sharing</h3>
						<p align="left">Divide secret $S$ into $n$ pieces of data $S_i,\ldots,S_n$ such that</p>
						<ul>
							<li>Knowledge of any $k$ or more $S_i$ makes $S$ computable.</li>
							<li>Knowledge of any $k-1$ or less $S_i$ leaves $S$ completely undetermined.</li>
						</ul>
						<p align="left">This is called a $(k,n)$ threshold scheme.</p>
					</section>

					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-in fade-out">
						<h3>Shamir Secret Sharing</h3>
						<p align="left">The essential idea is that $k$ points are required to define a polynomial of degree $k-1$.</p>
					</section>

					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-in fade-out">
						<h3>Shamir Secret Sharing</h3>
						Definition of polynomial:
						\begin{align}
							f(x) &amp; = a_0 + a_1x + a_2x^2 + \ldots + a_{k-1}x^{k-1} \\
							f(x) &amp; = \sum_{i=0}^{k-1} a_ix^i
						\end{align}
					</section>

					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-in fade-out">
						<h3>Shamir Secret Sharing</h3>
						<p align="left">Suppose we want to use a $(k,n)$ threshold scheme to share our secret $S$, an element in a finite field $\mathbb{F}$ of size $P$ where $0 < k \leq n < P; S < P$ and $P$ is a prime number.</p>
					</section>

					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-in fade-out">
						<h3>Shamir Secret Sharing</h3>
						<ul>
              <li>Choose at random $k-1$ positive integers $a_1,\ldots,a_{k-1}$ with $a_i&lt;P; a_i \in \mathbb{N}$ and let $a_0 = S; S < P$</li>
							<li>Build the polynomial $f(x) = a_0 + a_1x + a_2x^2 + \ldots + a_{k-1}x^{k-1}$</li>
							<li>Construct any $n$ points, for instance, set $i=1,\ldots,n$ to retrieve $(i,f(i))$</li>
						</ul>
					</section>

					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-in fade-out">
						<h3>Shamir Secret Sharing</h3>
						<ul>
							<li>Every participant is given a point, i.e. an integer input to the polynomial and the corresponding integer output.</li>
							<li>Given any subset of $k$ of these pairs, we can find the coefficients of the polynomial. The secret is the constant term $a_0$</li>
						</ul>
					</section>
				</section>

				<!--
						******************************************
						Example of a straight line: f(x) = 4x + 42
						Solve for the polynomial and the secret.
						******************************************
				-->
				<section data-transition="zoom-in fade-out">
					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-out">
						<h1>Computing the secret</h1>
            <h3>For Humans</h3>
					</section>

					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-in fade-out">
						<p align="left">A straight line is described by the polynomial</p>
						<p>$f(x) = ax + b$</p>

						<aside class="notes">
							<ul>
								<li>First degree polynomial.</li>
								<li>How many points are necessary to describe a line?</li>
								<li>Two. Degree + 1.</li>
							</ul>
						</aside>
					</section>

					<section data-background="figures/gnuplot/line.png" data-background-size="contain" data-transition="fade-in fade-out">
						<p align="left">Suppose we know two points on the line:</p>

						\begin{align}
						P1 &amp;= (-16, -22) \\
						P2 &amp;= (-17, -26)
						\end{align}

						<aside class="notes">
							<ul>
								<li>Two points are sufficient to identify a line.</li>
								<li>The two points represent our "shares" needed to compute the secret.</li>
						</ul>
						</aside>
					</section>

					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-in fade-out">
						<p align="left">We can write the system of equations:</p>

						\begin{align}
            f(x)   &amp; = ax + b \\
						P1 \rightarrow f(-16) = -22 &amp;= a(-16) + b \\
						P2 \rightarrow f(-17) = -26 &amp;= a(-17) + b
						\end{align}

						<aside class="notes">
							<ul>
								<li>We have two equations and two variables. We can find $a$ and $b$</li>
								<li>There are other methods.</li>
								<li>Not computationally efficient. LaGrange interpolation.</li>
							</ul>
						</aside>
					</section>

					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-in fade-out">
						<p align="left">We can solve the equations for $b$:</p>
						\[b = 16a - 22\]
						<aside class="notes">
							<ul>
							<li>Substite $b$ into the second equation.</li>
							</ul>
						</aside>
					</section>

					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-in fade-out">
						<p align="left">Substituting $b$ into the second equation and simplifying:</p>
						\begin{align}
						-26 &amp;= -17a + (16a - 22) \\
						    &amp;= -a - 22 \\
						a &amp;= 26-22 \\
						a &amp;= 4
						\end{align}
					</section>

					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-in fade-out">
						Now that we know $a = 4$ we can find our secret, $b$
						\begin{align}
						f(x) &amp;= ax + b \\
						     &amp;= 4x + b \\
						P1 \rightarrow f(-16) = -22  &amp;= 4(-16) + b \\
						b    &amp;= 42
						\end{align}
					</section>

					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-in fade-out">
						<p>Alternatively</p>
						\begin{align}
						b &amp;= 16a - 22 \\
						b &amp;= 16(4) - 22 \\
						b &amp;= 64 - 22 \\
						b &amp;= 42
						\end{align}
					</section>
				</section>

				<!--
						********
						Examples
						********
				-->
				<section data-transition="zoom-in fade-out">
					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-out">
						<h1>Billions and Billions of Polynomials</h1>
            <h3>Carl Sagan</h3>
					</section>

					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-in fade-out">
						<p align="left">Consider polyomials of degree 1, 2, and 3. In other words, $k$ is 2, 3, or 4.</p>
						<ul>
							<li>Suppose we have $j$ shares $S_1,\ldots,S_j$, where $j &lt; k$</li>
						  <li>Then suppose we have $j$ shares $S_1,\ldots,S_j$, where $j = k$</li>
						</ul>
						<aside class="notes">
							<ul>
								<li>Infinite number of curves passing through $k-1$ points.</li>
							</ul>
						</aside>
					</section>

					<section data-background="figures/gnuplot/linear-1.png" data-background-size="contain" data-transition="fade-in fade-out">
						<!-- Just the background here -->
					</section>

					<section data-background="figures/gnuplot/linear-2.png" data-background-size="contain" data-transition="fade-in fade-out">
						<!-- Just the background here -->
					</section>

					<section data-background="figures/gnuplot/quadratic-1.png" data-background-size="contain" data-transition="fade-in fade-out">
						<!-- Just the background here -->
					</section>

					<section data-background="figures/gnuplot/quadratic-2.png" data-background-size="contain" data-transition="fade-in fade-out">
						<!-- Just the background here -->
					</section>

					<section data-background="figures/gnuplot/quadratic-3.png" data-background-size="contain" data-transition="fade-in fade-out">
						<!-- Just the background here -->
					</section>

					<section data-background="figures/gnuplot/cubic-1.png" data-background-size="contain" data-transition="fade-in fade-out">
						<!-- Just the background here -->
					</section>

					<section data-background="figures/gnuplot/cubic-2.png" data-background-size="contain" data-transition="fade-in fade-out">
						<!-- Just the background here -->
					</section>
				</section>

				<!--
					*******************************
					What if we have only one point?
					*******************************
				-->
				<section data-transition="zoom-in fade-out">
					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-out">
						<h1>The Problem</h1>
            <h3>Information Leakage</h3>
						<aside class="notes">
							<ul>
								<li>But where are the prime numbers?</li>
							</ul>
						</aside>
					</section>

					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-in fade-out">
						<p align="left">Suppose Eve has managed to obtain a share, say $P=(16, 106)$.</p>
						<p align="left">She knows $f(x) = ax + b$</p>
					</section>

					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-in fade-out">
						<p align="left">She can solve for $b$ in terms of $a$.</p>
						\begin{align}
								f(x) &amp; = ax + b \\
                P \rightarrow f(16) = 106  &amp; = a(16) + b \\
								b    &amp; = -16a + 106
						\end{align}
            <p align="left">Recall the requirement that $a,b \in \mathbb{N}$.</p>
					</section>

					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-in fade-out">
						<p align="left">
						\begin{align}
								a = 0 \rightarrow b &amp; = -16(0) + 106 = 106 \\
								a = 1 \rightarrow b &amp; = -16(1) + 106 = 90 \\
								a = 2 \rightarrow b &amp; = -16(2) + 106 = 74 \\
								a = 3 \rightarrow b &amp; = -16(3) + 106 = 58 \\
								a = 4 \rightarrow b &amp; = -16(4) + 106 = 42 \\
								a = 5 \rightarrow b &amp; = -16(5) + 106 = 26 \\
								a = 6 \rightarrow b &amp; = -16(6) + 106 = 10 \\
								a = 7 \rightarrow b &amp; = -16(7) + 106 = -6
						\end{align}
						<aside class="notes">
							<ul>
								<li>But recall that $a_i \in \mathbb{N}$</li>
							</ul>
						</aside>
					</section>

					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-in fade-out">
						<p align="left">Since $b$ cannot be negative, Eve can conclude that</p>
						\begin{align}
						a &amp; \in [0,1,2,3,4,5,6] \\
						b &amp; \in [106,90,74,58,42,26,10]
						\end{align}
					</section>
				</section>

				<!--
						***********************
						Finite Field Arithmetic
						***********************
				-->
				<section data-transition="zoom-in fade-out">
					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-out">
            <h1>The Solution</h1>
						<h3>Finite Field</h3>
					</section>

					<section data-background="images/background-clock.png" data-background-size="contain" data-transition="fade-in fade-out">
					</section>

					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-out">
						<p align="left">The solution is to require that $S$ is an element in a finite field $\mathbb{F}$ of size $p$ where $S \lt p$ and $p$ is prime.</p>
					</section>

					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-in fade-out">
						<p align="left">Since $S=42$, choosing $p=43$ satisfies the requirement that $S \lt p$ and $p$ is prime.</p>
						\[\begin{align}
								f(x)  &amp; = 4x + 42 \mod 43 \\
								f(16) &amp; = 4(16) + 42 \mod 43 \\
								      &amp; = 106 \mod 43 \\
								f(16) &amp; = 20
						\end{align}\]
					</section>

					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-in fade-out">
						<p align="left">Recall from the definition of a modulus that</p>
						\begin{align}
							a \mod p = a - pm \mid 0 \leq a - pm \leq p \\
						\end{align}
						<p align="left">In other words, $m$ is a multiplier.</p>
					</section>

					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-in fade-out">
						<p align="left">Eve knows $P=(16,20)$, $f(x) = ax + b \mod p$, and modulus $p=43$.</p>
						<p align="left">So she can substitute and write:</p>
						\[\begin{align}
								f(x) &amp; = ax + b \mod p \\
								     &amp; = ax + b - pm \\
								20   &amp; = 16a + b - 43m \\
								b    &amp; = -16a + 20 + 43m
						\end{align}\]
						<aside class="notes">
							<ul>
								<li>But $f(x) \mod p$ can be written $f(x) - pm$ where $m$ is a multiplier.</li>
							</ul>
						</aside>
					</section>

					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-in fade-out">
						\begin{align}
								a = 0 \rightarrow b &amp; = -16(0) + 20 + 43m = 20 + 43m \\
								a = 1 \rightarrow b &amp; = -16(1) + 20 + 43m = 4 + 43m \\
								a = 2 \rightarrow b &amp; = -16(2) + 20 + 43m = -12 + 43m \\
								a = 3 \rightarrow b &amp; = -16(3) + 20 + 43m = -28 + 43m \\
								a = 4 \rightarrow b &amp; = -16(4) + 20 + 43m = -44 + 43m \\
								a = 5 \rightarrow b &amp; = -16(5) + 20 + 43m = -60 + 43m \\
								a = 6 \rightarrow b &amp; = -16(6) + 20 + 43m = -76 + 43m \\
								a = 7 \rightarrow b &amp; = -16(7) + 20 + 43m = -92 + 43m
						\end{align}
						<aside class="notes">
							<ul>
								<li>See how Eve cannot gain any information about the secret?</li>
								<li>$m$ is still unknown.</li>
							</ul>
						</aside>
					</section>

					<section data-background="figures/gnuplot/background-default.png" data-background-size="contain" data-transition="fade-in fade-out">
						<p align="left">The secret, $S$, is equally likely to be any element of the finite field $\mathbb{F}$. No information may be learned about $S$ unless $S_1 \ldots S_k$ are known.</p>
					</section>
				</section>

				<!--
					*********
					Questions
					*********
				-->
				<section data-transition="zoom-in fade-out">
					<section data-background="figures/gnuplot/background-title.png" data-background-size="contain" data-transition="fade-out">
						<h1>Shamir</h1>
						<h1>Secret</h1>
						<h1>Sharing</h1>
					</section
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,
				math: {
					mathjax: 'MathJax-master/MathJax.js',
					config: 'TeX-AMS_HTML-full'  // See http://docs.mathjax.org/en/latest/config-files.html
				},
				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/math/math.js', async: true },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
